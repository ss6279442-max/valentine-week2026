<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Journey v8 - Interactive</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
body {
  margin:0;
  font-family:Poppins,sans-serif;
  overflow:hidden;
  background: linear-gradient(135deg, #fff0f5, #ffe6f0);
  background-size: 400% 400%;
  animation: gradientShift 20s ease infinite;
  cursor:none;
}
@keyframes gradientShift {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}

.page {
  display:none;
  height:100vh;
  padding:20px;
  position:relative;
  opacity:0;
  transition: opacity 0.8s ease;
}
.page.active {
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  opacity:1;
}

h1 {
  font-family:"Dancing Script";
  font-size:42px;
  margin:10px 0;
  text-shadow: 0 0 8px #ff4d6d;
}
p {
  font-size:18px;
  max-width:760px;
  line-height:1.6;
}

button {
  font-size:18px;
  padding:14px 28px;
  margin:10px;
  border-radius:28px;
  border:none;
  background:#ff4d6d;
  color:white;
  cursor:pointer;
  z-index:5;
  box-shadow:0 4px 12px rgba(255,77,109,0.4);
  transition:0.2s all;
  position:relative;
}
button:hover {transform:scale(1.1); box-shadow:0 6px 18px rgba(255,77,109,0.6);}
#yesBtn {animation:yesPulse 2.2s infinite;}
@keyframes yesPulse {
  0%,100%{box-shadow:0 0 0 #ff4d6d;}
  50%{box-shadow:0 0 22px #ff4d6d;}
}

.sticker {
  position:absolute;
  width:26vw;
  max-width:300px;
  min-width:150px;
  z-index:10;
  pointer-events:none;
  animation:popIn 0.5s ease;
}
@keyframes popIn {
  0%{transform:scale(0); opacity:0;}
  100%{transform:scale(1); opacity:1;}
}

.meter {
  position:fixed;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  width:220px;
  height:18px;
  border-radius:20px;
  background:#ffd6e0;
  overflow:hidden;
  z-index:9;
}
.fill {
  height:100%;
  width:0%;
  background:#ff4d6d;
  transition:0.4s width ease;
}

canvas {
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;
}

/* Floating hearts */
.bgHeart, .cursorHeart {
  position:absolute;
  border-radius:50%;
  pointer-events:none;
}
.bgHeart {
  width:16px;
  height:16px;
  background:#ff4d6d;
  opacity:0.6;
  animation:float 6s linear infinite;
}
@keyframes float {
  from{transform:translateY(110vh);}
  to{transform:translateY(-10vh);}
}

/* Glow hearts removed - plain bright hearts now */
.cursorHeart {
  width:12px;
  height:12px;
  background:#ff4d6d;
  opacity:0.8;
}

/* Input and message styling */
input {
  padding:12px 18px;
  font-size:16px;
  border-radius:16px;
  border:2px solid #ffb6c1;
  outline:none;
}
input:focus {border-color:#ff4d6d; box-shadow:0 0 8px rgba(255,77,109,0.4);}
</style>
</head>
<body>

<div class="meter"><div class="fill" id="fill"></div></div>
<canvas id="draw"></canvas>

<!-- START -->
<div class="page active">
<h1>Our Valentine Journey</h1>
<p>Walk each day with me through this small journey of warmth, sincerity, playfulness, and honest affection. Move step by step and experience each feeling slowly.</p>
<button onclick="next()">Start</button>
</div>

<!-- ROSE -->
<div class="page">
<h1>Rose Day</h1>
<p>A rose stands for admiration and gentle emotional offering.</p>
<button onclick="next()">Yes</button>
<button onclick="noPrank(this)">No</button>
<img class="sticker" style="left:3%;top:8%" src="https://media.giphy.com/media/gFGu7R9BCTdgWwmgeD/giphy.gif">
<img class="sticker" style="right:3%;bottom:6%" src="https://media.giphy.com/media/Z6DLUfUZWRVvuJ0Goc/giphy.gif">
</div>

<!-- PROPOSE -->
<div class="page">
<h1>Propose Day</h1>
<p>Proposing is choosing someone repeatedly with honesty and patience.</p>
<button onclick="next()">Yes</button>
<button onclick="noPrank(this)">No</button>
<img class="sticker" style="left:2%;top:10%" src="https://media.giphy.com/media/Z9msLU4IPUyicOmmyw/giphy.gif">
<img class="sticker" style="right:2%;bottom:8%" src="https://media.giphy.com/media/cLS1cfxvGOPVpf9g3y/giphy.gif">
</div>

<!-- CHOCOLATE -->
<div class="page">
<h1>Chocolate Day</h1>
<p>Sweetness feels better when shared.</p>
<button onclick="next()">Yes</button>
<button onclick="noPrank(this)">No</button>
<img class="sticker" style="left:1%;bottom:5%" src="https://media.giphy.com/media/GH0vPYrev5AcfMYn7C/giphy.gif">
<img class="sticker" style="right:1%;top:6%" src="https://media.giphy.com/media/g4TE8HgHOK98k6jXpS/giphy.gif">
</div>

<!-- TEDDY -->
<div class="page">
<h1>Teddy Day</h1>
<p>Comfort matters more than grand gestures.</p>
<button onclick="next()">Yes</button>
<button onclick="noPrank(this)">No</button>
<img class="sticker" style="left:3%;top:6%" src="https://media.giphy.com/media/aq67AZfVdTuFmIdLTA/giphy.gif">
<img class="sticker" style="right:3%;bottom:6%" src="https://media.giphy.com/media/ewZ0wwPq7JKnfv1isY/giphy.gif">
</div>

<!-- HUG -->
<div class="page">
<h1>Hug Day</h1>
<p>A hug communicates reassurance without words.</p>
<button onclick="next()">Yes</button>
<button onclick="noPrank(this)">No</button>
<img class="sticker" style="left:3%;bottom:8%" src="https://media.giphy.com/media/fvN5KrNcKKUyX7hNIA/giphy.gif">
<img class="sticker" style="right:3%;top:6%" src="https://media.giphy.com/media/gdspgdOIV1HxhnxQOH/giphy.gif">
</div>

<!-- KISS -->
<div class="page">
<h1>Kiss Day</h1>
<p>Tenderness represents trust and emotional closeness.</p>
<button onclick="next()">Yes</button>
<button onclick="noPrank(this)">No</button>
<img class="sticker" style="left:3%;top:6%" src="https://media.giphy.com/media/euW6JDwrMn0BqyNC8t/giphy.gif">
<img class="sticker" style="right:3%;bottom:6%" src="https://media.giphy.com/media/oB5lm0TCuUlYW697Zi/giphy.gif">
</div>

<!-- PASSKEY -->
<div class="page">
<h1>Secret Letter</h1>
<input id="key" placeholder="passkey">
<button onclick="unlock()">Unlock</button>
<p id="wrong" style="color:#ff4d6d; margin-top:10px;"></p>
</div>

<!-- LETTER -->
<div class="page">
<h1>My Letter</h1>
<p id="typedLetter" style="font-family:'Patrick Hand';font-size:22px;line-height:1.6;background:white;padding:26px;border-radius:18px;"></p>
<button onclick="next()">Continue</button>
</div>

<!-- FINAL -->
<div class="page">
<h1 style="font-family:'Patrick Hand';font-size:48px;color:#ff4d6d;">Will you be my Valentine?</h1>
<button id="yesBtn" onclick="bigLove()">YES</button>
<button onclick="noPrank(this)">No</button>
</div>

<div class="page" id="love">
<h1 style="font-family:'Patrick Hand';font-size:72px;color:#ff4d6d;">I LOVE YOU</h1>
</div>

<script>
const pages = document.querySelectorAll(".page");
const fill = document.getElementById("fill");
let i = 0;

function next(){
  pages[i].classList.remove("active");
  i++;
  pages[i].classList.add("active");
  fill.style.width = (i/(pages.length-1))*100+"%";
  drawDoodles(i);
  createFloatingHearts(i);
  if(i===pages.length-3) typeLetter();
}

/* Unlock */
function unlock(){
  const key = document.getElementById("key");
  const wrong = document.getElementById("wrong");
  if(key.value==="alwaysyours") next();
  else wrong.innerText="wrong key";
}

/* NO button logic fully fixed */
const nudges = ["Button shy ðŸ˜„","Try the other one","Heart disagrees","System says Yes only","Nice try","No is tired"];
let noCount=0;
const noStickers=[
"https://media.giphy.com/media/N6qf8E9YixiG2qa5DU/giphy.gif",
"https://media.giphy.com/media/kxl3evWZtDDZIHoZ72/giphy.gif",
"https://media.giphy.com/media/TsXuQJSf9jHwvrALZ0/giphy.gif",
"https://media.giphy.com/media/Cqq2DvlmbNo8izMrWO/giphy.gif"
];
function noPrank(btn){
  const vw = window.innerWidth - btn.offsetWidth - 20;
  const vh = window.innerHeight - btn.offsetHeight - 20;
  btn.style.position="absolute";
  btn.style.left = Math.random()*vw + "px";
  btn.style.top = Math.random()*vh + "px";
  btn.textContent = nudges[noCount%nudges.length];

  let img = document.createElement("img");
  img.src = noStickers[noCount%noStickers.length];
  img.className = "sticker";
  img.style.left = (btn.offsetLeft + 60 + Math.random()*40) + "px";
  img.style.top = (btn.offsetTop + Math.random()*40 - 20) + "px";
  document.body.appendChild(img);
  setTimeout(()=>img.remove(),3000);
  noCount++;
}

/* Final page with hearts */
function bigLove(){
  next();
  for(let n=0;n<80;n++){
    let h = document.createElement("div");
    h.className="bgHeart";
    h.style.width = h.style.height = (12+Math.random()*16)+"px";
    h.style.left=Math.random()*100+"vw";
    h.style.top=Math.random()*100+"vh";
    h.style.animationDuration = 4 + Math.random()*4 +"s";
    document.body.appendChild(h);
  }
}

/* Letter */
const letterText=`From the moment you entered my life quietly, something inside me became softer and calmer. Ordinary days began to feel warmer and simple talks started staying longer in my thoughts. Your natural honesty, small reactions, and gentle way of expressing yourself matter to me more than big gestures. Real connection grows through sincerity, patience, and emotional safety, and I feel those qualities whenever we talk. To me, love is not constant excitement. It is steadiness, respect, listening fully, remembering details, and choosing the same person again even on quiet days. You make time feel lighter and worries feel smaller. There is comfort in being understood without pretending, and with you I feel that ease. Whatever the future calls this bond, my care is genuine, my intention is clear, and my choice remains you, in simple moments and meaningful ones alike.`;

function typeLetter(){
  let el = document.getElementById("typedLetter");
  let n = 0;
  (function loop(){
    if(n < letterText.length){
      el.textContent += letterText[n++];
      setTimeout(loop,16);
    }
  })();
}

/* Canvas Doodles */
const c = document.getElementById("draw");
const x = c.getContext("2d");
function resize(){c.width=innerWidth;c.height=innerHeight}
resize();
onresize = resize;

function r(a,b){return Math.random()*(b-a)+a}
function scribble(fn){for(let k=0;k<3;k++) fn(r(-1.5,1.5),r(-1.5,1.5));}

function heart(px,py,s){scribble((dx,dy)=>{
  x.beginPath();
  x.moveTo(px+dx,py+dy);
  x.bezierCurveTo(px-s,py-s,px-1.4*s,py+.5*s,px,py+1.2*s);
  x.bezierCurveTo(px+1.4*s,py+.5*s,px+s,py-s,px,py);
  x.strokeStyle = "#ff4d6d";
  x.lineWidth=2;
  x.stroke();
})}
function star(px,py,s){for(let i=0;i<5;i++){
  let a=i*2*Math.PI/5;
  let b=(i+2)*2*Math.PI/5;
  scribble((dx,dy)=>{
    x.beginPath();
    x.moveTo(px+Math.cos(a)*s+dx, py+Math.sin(a)*s+dy);
    x.lineTo(px+Math.cos(b)*s+dx, py+Math.sin(b)*s+dy);
    x.strokeStyle="#ff99aa";
    x.lineWidth=2;
    x.stroke();
  })
}}
function arrow(px,py,s){scribble((dx,dy)=>{
  x.beginPath();
  x.moveTo(px+dx,py+dy);
  x.lineTo(px+s,py);
  x.strokeStyle="#ff4d6d";
  x.lineWidth=2;
  x.stroke();
})}

const sets=[["heart","star","arrow"],["heart","arrow"],["star","arrow","heart"],["heart","star"],["star"],["heart","star","arrow"]];

function drawDoodles(pi){
  x.clearRect(0,0,c.width,c.height);
  let set = sets[pi%sets.length];
  let count = 25 + pi*3;
  for(let n=0;n<count;n++){
    let t=set[Math.floor(Math.random()*set.length)];
    let px=r(60,c.width-60); let py=r(60,c.height-60); let s=r(12,28);
    if(t==="heart") heart(px,py,s);
    if(t==="star") star(px,py,s);
    if(t==="arrow") arrow(px,py,s);
  }
}
drawDoodles(0);

/* Floating hearts per page */
function createFloatingHearts(pi){
  for(let n=0;n<6;n++){
    let h = document.createElement("div");
    h.className="bgHeart";
    h.style.left=Math.random()*100+"vw";
    h.style.top=Math.random()*100+"vh";
    h.style.animationDuration = 4+Math.random()*4+"s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),7000);
  }
}

/* Cursor hearts */
document.addEventListener("mousemove", e=>{
  let h = document.createElement("div");
  h.className="cursorHeart";
  h.style.left = e.clientX+"px";
  h.style.top = e.clientY+"px";
  h.style.width = h.style.height = (6 + Math.random()*10)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),1000);
});
</script>
</body>
</html>
